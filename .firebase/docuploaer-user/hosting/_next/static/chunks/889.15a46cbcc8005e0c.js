"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{1889:(e,t,a)=>{a.r(t),a.d(t,{QRCodeDisplay:()=>r});var n=a(4568),o=a(7620);function r(e){let{fileId:t,paymentUrl:a,onGenerate:r}=e,[l,i]=(0,o.useState)(""),[s,c]=(0,o.useState)(!1),[h,d]=(0,o.useState)(null),[m,u]=(0,o.useState)("");(0,o.useEffect)(()=>{if(!h)return;let e=setInterval(()=>{let e=new Date().getTime(),t=h.getTime()-e;if(t>0){let e=Math.floor(t/36e5),a=Math.floor(t%36e5/6e4),n=Math.floor(t%6e4/1e3);u("".concat(e,"h ").concat(a,"m ").concat(n,"s"))}else u("Expired"),i("")},1e3);return()=>clearInterval(e)},[h]);let p=async()=>{c(!0);try{await new Promise(e=>setTimeout(e,1e3));let e="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent(a||"https://yourapp.com/payment/".concat(t)));i(e);let n=new Date;n.setHours(n.getHours()+24),d(n),null==r||r()}catch(e){}finally{c(!1)}};return(0,n.jsx)("div",{className:"inline-block",children:l?(0,n.jsx)("div",{className:"relative group",children:(0,n.jsxs)("button",{onClick:()=>{let e=window.open("","_blank","width=400,height=500");e&&e.document.write('\n                  <html>\n                    <head><title>QR Code - Payment</title></head>\n                    <body style="margin:0; padding:20px; text-align:center; font-family: Arial, sans-serif;">\n                      <h2>Scan to Pay</h2>\n                      <img src="'.concat(l,'" alt="QR Code" style="max-width:300px; border:1px solid #ddd; border-radius:8px;">\n                      <p style="margin-top:10px; color:#666;">Scan this QR code to complete payment</p>\n                      ').concat(m?'<p style="color:#f59e0b; font-weight:bold;">Expires in: '.concat(m,"</p>"):"","\n                    </body>\n                  </html>\n                "))},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"View QR"]})}):(0,n.jsxs)("button",{onClick:p,disabled:s,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),s?"Generating...":"Generate QR"]})})}}}]);